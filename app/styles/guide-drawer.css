/* Drawer + layout shift (right rail) â€” minimal, class-driven, SSR-safe */

:root {
  --guide-width: 420px;
  --nav-height: 76px;
  --footer-height: 64px;
}

/* 0) Smooth shift for the content wrapper */
[data-shiftable-root] {
  padding-right: 0;
  transition: padding-right .32s cubic-bezier(.22,.61,.36,1);
  box-sizing: border-box;
}

/* 1) Drawer is inert unless html.guide-open */
html:not(.guide-open) .guide-drawer {
  transform: translateX(100%) !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

/* 2) When open, reserve space on the right for the drawer */
html.guide-open [data-shiftable-root] {
  padding-right: calc(var(--guide-width, 420px) + 2rem);
  will-change: padding-right;
}

/* 3) Tablet: slightly narrower drawer */
@media (max-width: 1024px) {
  :root { --guide-width: 360px; }
  html.guide-open [data-shiftable-root] {
    padding-right: calc(var(--guide-width, 360px) + 1rem);
  }
}

/* 4) Drawer occupies the vertical strip between header and footer */
.guide-drawer {
  position: fixed;
  inset-inline-end: 0;
  top: var(--nav-height);
  bottom: var(--footer-height);
  width: var(--guide-width);
  height: auto;
  display: flex;
  flex-direction: column;
}

/* === fix-left-shift: footer pad only when drawer open + no horizontal scroll === */
html:not(.guide-open) .footer-container { padding-right: 0 !important; }
html.guide-open .footer-container { padding-right: calc(var(--guide-width, 420px) + 2rem); }
@media (max-width: 1024px){
  html.guide-open .footer-container { padding-right: calc(var(--guide-width, 360px) + 1rem); }
}
/* kill accidental horizontal gutters on first paint */
html, body { overflow-x: hidden; }
:root { --drawer-w: 0px; }
html.guide-open { --drawer-w: var(--guide-width, 420px); }
.guide-drawer { width: var(--drawer-w); transform: none !important; transition: width .28s ease; overflow: hidden; }
[data-shiftable-root] { box-sizing: border-box !important; inline-size: 100%; max-inline-size: 100%; padding-right: calc(var(--drawer-w) + 2rem) !important; }
