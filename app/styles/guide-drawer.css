/* Body/content shift when guide drawer is open (desktop-first, right-pinned) */
:root { --guide-width: 420px; --nav-height: 76px; --footer-height: 64px; --drawer-inner-x: 12px; }
html[data-guide-open="true"] [data-shiftable-root] {
  padding-right: calc(var(--guide-width) + 2rem);
  transition: padding-right .28s ease;
}
/* Do not shift footer when drawer opens; chat is absolutely pinned on right */
/* html[data-guide-open="true"] .brand-footer { padding-right: calc(var(--guide-width) + 2rem); } */

/* Tablet */
@media (max-width: 1024px){
  :root{ --guide-width: 360px; }
  html[data-guide-open="true"] [data-shiftable-root] { padding-right: calc(var(--guide-width) + 1rem); }
  /* html[data-guide-open="true"] .brand-footer { padding-right: calc(var(--guide-width) + 1rem); } */
}

/* Drawer: pinned to right, fills between header and footer, animates up */
.guide-drawer {
  position: fixed;
  top: var(--nav-height);
  bottom: var(--footer-height);
  right: 0;
  width: var(--guide-width);
  max-height: calc(100dvh - var(--nav-height) - var(--footer-height));
}

/* Provide an inner padding variable to align with footer chat inset */
.guide-drawer .drawer-body{ padding-left: 0; padding-right: 0; overflow-y: auto; }
.guide-drawer .conversation{ padding: 8px var(--drawer-inner-x) 12px; }

@keyframes guide-enter {
  from { transform: translateY(12px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-guide-enter { animation: guide-enter .24s ease-out; }

/* Footer chat dock: pinned width matches drawer, visually integrates */
.footer-chat-dock { width: var(--guide-width); }
html[data-guide-open="true"] .footer-chat-dock { width: var(--guide-width); }

/* Remove bottom radii from drawer so it visually meets footer */
.guide-drawer { border-bottom-left-radius: 0 !important; border-bottom-right-radius: 0 !important; border-bottom: 0 !important; border-top-right-radius: 0 !important; }

/* Suggested header divider */
.guide-drawer .suggested-header{ padding: 6px var(--drawer-inner-x); border-bottom: none; }
.dark .guide-drawer .suggested-header{ border-bottom-color: var(--border-soft); }
.guide-drawer .suggested-list{ padding: 8px var(--drawer-inner-x); }
.guide-drawer .suggested-sticky{
  position: sticky;
  top: 0;
  z-index: 1;
  /* Gentle scrim to increase label contrast on busy photos */
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0.85) 0%,
    rgba(255,255,255,0.70) 75%,
    rgba(255,255,255,0.40) 100%
  );
  backdrop-filter: blur(3px);
}
.dark .guide-drawer .suggested-sticky{
  background: linear-gradient(
    to bottom,
    rgba(18,22,28,0.90) 0%,
    rgba(18,22,28,0.80) 75%,
    rgba(18,22,28,0.55) 100%
  );
}


