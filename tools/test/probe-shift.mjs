const base=process.env.BASE_URL||'http://localhost:2000';
(async()=>{const p=await import('puppeteer');const b=await p.launch({headless:'new'});const pg=await b.newPage();await pg.goto(base+'/',{waitUntil:'networkidle0'});const before=await pg.evaluate(()=>{const el=document.querySelector('[data-shiftable-root]');const pr=parseFloat(getComputedStyle(el).paddingRight);return {pr,flag:document.documentElement.getAttribute('data-guide-open')};});console.log('before',before);await pg.waitForSelector('[data-testid="sherpa-pill"]',{timeout:8000});await pg.$eval('[data-testid="sherpa-pill"]',el=>el.click());await pg.waitForFunction(()=>document.documentElement.getAttribute('data-guide-open')==='true',{timeout:5000});await new Promise(r=>setTimeout(r,200));const after=await pg.evaluate(()=>{const el=document.querySelector('[data-shiftable-root]');const pr=parseFloat(getComputedStyle(el).paddingRight);const css=document.querySelector('#guide-boot')?.textContent;return {pr,flag:document.documentElement.getAttribute('data-guide-open'),css};});console.log('after',after);await b.close();})().catch(e=>{console.error(e);process.exit(1)});

